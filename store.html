<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>SHENMO GHANA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles/styles.css">
  <link rel="stylesheet" href="styles/pages.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
    .containershop {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      margin-top: 20px;
    }

    .products-col {
      flex: 4;
      padding: 20px;
      margin-right: 20px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
    }

    .product-card {
      background-color: white;
      border: 1px solid #ddd;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      text-align: center;
      padding-bottom: 10px;
    }

    .product-card img {
      width: 100%;
      height: 250px;
      object-fit: cover;
    }

    .product-card h4 {
      font-size: 16px;
      margin: 10px 0;
    }

    .price {
      color: #2E7D32;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .qty-control {
      display: none;
      justify-content: center;
      align-items: center;
      margin-bottom: 10px;
      gap: 10px;
    }

    .qty-control button {
      padding: 5px 10px;
      font-size: 18px;
      cursor: pointer;
      background-color: #2E7D32;
      color: white;
      border: none;
      border-radius: 5px;
    }

    .qty-display {
      min-width: 20px;
      text-align: center;
      font-size: 16px;
    }

    .product-card button.main-btn {
      background-color: #2E7D32;
      color: white;
      border: none;
      padding: 10px;
      width: 100%;
      cursor: pointer;
      font-size: 16px;
      border-radius: 0 0 10px 10px;
    }

    .product-card button.main-btn:hover {
      background-color: #1b5e20;
    }

    .cart-col {
      flex: 1;
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      min-width: 280px;
    }

    .cart-col h3 {
      text-align: center;
      color: #2E7D32;
    }

    .cart-col ul {
      list-style-type: none;
      padding: 0;
    }

    .cart-col li {
      margin-bottom: 10px;
      border-bottom: 1px solid #ddd;
      padding-bottom: 5px;
    }

    .cart-col button {
      background-color: #2E7D32;
      color: white;
      border: none;
      padding: 10px;
      width: 100%;
      font-size: 18px;
      cursor: pointer;
      border-radius: 10px;
    }

    .cart-col button:hover {
      background-color: #1b5e20;
    }

    #order-summary-popup {
      display: none;
      margin-top: 20px;
      padding: 15px;
      background-color: #e8f5e9;
      border: 1px solid #2E7D32;
      border-radius: 8px;
      color: #1b5e20;
      position: relative;
    }

    #order-summary-popup button {
      position: absolute;
      top: 8px;
      right: 10px;
      background: transparent;
      border: none;
      font-size: 16px;
      cursor: pointer;
      color: #1b5e20;
    }

    @media (max-width: 800px) {
      .containershop {
        flex-direction: column;
      }

      .product-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .product-card img {
        height: 200px;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="top-navigation">
    <div class="brand">SHENMO GHANA</div>
    <a href="donation.html" class="donate-button">Pay Bills</a>
  </div>
  <nav class="main-navigation">
    <div class="logo-container">
      <img src="thumbnails/logo.png" alt="Logo">
    </div>
    <div class="menu-toggle" onclick="toggleMenu()">☰</div>
    <ul class="nav-links">
      <li><a href="home.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="registration.html">Registration</a></li>
      <li><a href="program.html">Programs</a></li>
      <li><a href="gallery.html">Gallery</a></li>
      <li><a href="store.html">Shop</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>
</header>

<div class="containershop">
  <div class="products-col">
    <section id="new-signees">
      <h2>New Signees – Full Abacus Kit</h2>
      <div class="product-grid">
        <div class="product-card">
          <img src="images/combo.jpg" alt="Full Abacus Kit">
          <h4>Full Abacus Starter Kit</h4>
          <div class="price">GHS 200</div>
          <div class="qty-control">
            <button class="qty-minus">−</button>
            <span class="qty-display">1</span>
            <button class="qty-plus">+</button>
          </div>
          <button class="main-btn" onclick="addToCart('Full Abacus Starter Kit', 0, 200)">Buy Full Kit</button>
        </div>
      </div>
    </section>

    <section id="returning-signees">
      <h2>Returning Signees – Buy Individual Items</h2>
      <div class="product-grid">
        <div class="product-card">
          <img src="images/storedevice.jpg" alt="Abacus Device">
          <h4>Abacus Device</h4>
          <div class="price">GHS 70</div>
          <div class="qty-control">
            <button class="qty-minus">−</button>
            <span class="qty-display">1</span>
            <button class="qty-plus">+</button>
          </div>
          <button class="main-btn">Add to Cart</button>
        </div>

        <div class="product-card">
          <img src="images/bag.jpg" alt="Shenmo Bag">
          <h4>Shenmo Bag</h4>
          <div class="price">GHS 50</div>
          <div class="qty-control">
            <button class="qty-minus">−</button>
            <span class="qty-display">1</span>
            <button class="qty-plus">+</button>
          </div>
          <button class="main-btn">Add to Cart</button>
        </div>

        <div class="product-card">
          <img src="images/book.jpg" alt="Shenmo Book">
          <h4>Shenmo Book</h4>
          <div class="price">GHS 50</div>
          <div class="qty-control">
            <button class="qty-minus">−</button>
            <span class="qty-display">1</span>
            <button class="qty-plus">+</button>
          </div>
          <button class="main-btn">Add to Cart</button>
        </div>

        <div class="product-card">
          <img src="images/lacoste.jpg" alt="Shenmo Lacoste">
          <h4>Shenmo Lacoste</h4>
          <div class="price">GHS 50</div>
          <div class="qty-control">
            <button class="qty-minus">−</button>
            <span class="qty-display">1</span>
            <button class="qty-plus">+</button>
          </div>
          <button class="main-btn">Add to Cart</button>
        </div>
      </div>
    </section>
  </div>

  <div class="cart-col">
    <h3>Your Cart</h3>
    <ul id="cart-list"></ul>
    <p><strong>Total: GHS <span id="total">0.00</span></strong></p>
    <button onclick="confirmOrder()">Confirm Order</button>
    <div id="order-summary-popup">
      <button onclick="closePopup()">&times;</button>
      <div id="order-summary-content"></div>
    </div>
  </div>
</div>

<script>
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    const cartList = document.getElementById('cart-list');
    const totalDisplay = document.getElementById('total');
  
    function addToCart(name, qty, price) {
      const index = cart.findIndex(item => item.name === name);
      if (index > -1) {
        cart[index].qty += qty;
      } else {
        cart.push({ name, qty, price });
      }
      saveCart();
      updateCart();
    }
  
    function updateCart() {
      cartList.innerHTML = '';
      let total = 0;
      cart.forEach((item, index) => {
        const itemTotal = item.qty * item.price;
        total += itemTotal;
        const li = document.createElement('li');
        li.innerHTML = `${item.qty} × ${item.name} — GHS ${itemTotal.toFixed(2)} <button onclick="removeItem('${item.name}')">Remove</button>`;
        cartList.appendChild(li);
      });
      totalDisplay.textContent = total.toFixed(2);
    }
  
    function removeItem(name) {
      const index = cart.findIndex(item => item.name === name);
      if (index !== -1) {
        cart.splice(index, 1);
        saveCart();
        updateCart();
        // Reset the specific product UI
        document.querySelectorAll('.product-card').forEach(card => {
          const productName = card.querySelector('h4').textContent;
          if (productName === name) {
            const qtyControl = card.querySelector('.qty-control');
            const qtyDisplay = card.querySelector('.qty-display');
            if (qtyControl) qtyControl.style.display = 'none';
            if (qtyDisplay) qtyDisplay.textContent = '1';
            card.dataset.quantity = '1'; // reset internal quantity tracker
          }
        });
      }
    }
  
    function confirmOrder() {
      const popup = document.getElementById("order-summary-popup");
      const content = document.getElementById("order-summary-content");
  
      if (cart.length === 0) {
        popup.style.display = "block";
        content.innerHTML = "<strong>Your cart is empty.</strong>";
        return;
      }
  
      let summary = "<strong>Confirm your order:</strong><br><br>";
      cart.forEach(item => {
        summary += `${item.qty} × ${item.name} – GHS ${item.qty * item.price}<br>`;
      });
      summary += `<br><strong>Total: GHS ${totalDisplay.textContent}</strong>`;
      summary += `<br><br><strong>Please send payment to:</strong><br><strong>Mobile Number:</strong> 0249460223<br><strong>Name:</strong> Musa Frimpong<br><strong>Network:</strong> All Networks<br><br>Kindly send payment details to WhatsApp Number 0249460223. Thank you for shopping with Shenmo Ghana!`;
  
      popup.style.display = "block";
      content.innerHTML = summary;
    }
  
    function closePopup() {
      document.getElementById("order-summary-popup").style.display = "none";
    }
  
    function saveCart() {
      localStorage.setItem('cart', JSON.stringify(cart));
    }
  
    // Set up product cards
    document.querySelectorAll('.product-card').forEach(card => {
      const btn = card.querySelector('.main-btn');
      const qtyControl = card.querySelector('.qty-control');
      const qtyDisplay = qtyControl?.querySelector('.qty-display');
      const name = card.querySelector('h4').textContent;
      const price = parseFloat(card.querySelector('.price').textContent.replace('GHS ', ''));
      let quantity = 1;
  
      card.dataset.quantity = quantity;
  
      // Restore state if in cart
      const savedItem = cart.find(item => item.name === name);
      if (savedItem) {
        qtyControl.style.display = 'flex';
        qtyDisplay.textContent = savedItem.qty;
        card.dataset.quantity = savedItem.qty;
      }
  
      btn.addEventListener('click', () => {
        quantity = parseInt(card.dataset.quantity) || 1;
        if (qtyControl) {
          qtyControl.style.display = 'flex';
          addToCart(name, quantity, price);
        }
      });
  
      card.querySelector('.qty-plus')?.addEventListener('click', () => {
        quantity = parseInt(card.dataset.quantity) || 1;
        quantity++;
        card.dataset.quantity = quantity;
        qtyDisplay.textContent = quantity;
        updateCartItem(name, quantity, price);
      });
  
      card.querySelector('.qty-minus')?.addEventListener('click', () => {
        quantity = parseInt(card.dataset.quantity) || 1;
        if (quantity > 1) {
          quantity--;
          card.dataset.quantity = quantity;
          qtyDisplay.textContent = quantity;
          updateCartItem(name, quantity, price);
        } else {
          removeItemByName(name);
          if (qtyControl) qtyControl.style.display = 'none';
          qtyDisplay.textContent = '1';
          card.dataset.quantity = '1';
        }
      });
    });
  
    function updateCartItem(name, qty, price) {
      const index = cart.findIndex(item => item.name === name);
      if (index !== -1) {
        cart[index].qty = qty;
        cart[index].price = price;
      } else {
        cart.push({ name, qty, price });
      }
      saveCart();
      updateCart();
    }
  
    function removeItemByName(name) {
      const index = cart.findIndex(item => item.name === name);
      if (index !== -1) {
        cart.splice(index, 1);
        saveCart();
        updateCart();
      }
    }
  
    // Initial render on page load
    updateCart();
  </script>
  
<footer>
  <div class="footer-container">
    <div class="footer-logo">
      <img src="thumbnails/images.png" alt="">
      <p>Empowering minds through education and innovation.</p>
    </div>
    <div class="footer-links">
      <h3>Quick Links</h3>
      <ul>
        <li><a href="about.html">About Us</a></li>
        <li><a href="registration.html">Registration</a></li>
        <li><a href="program.html">Programs</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="store.html">Shop</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
    <div class="footer-contact">
      <h3>Contact Us</h3>
      <p><i class="fas fa-map-marker-alt"></i> Ahobrase Plaza, East Legon, Accra, Ghana</p>
      <p><i class="fas fa-phone"></i> 0500926000 | 0249460223</p>
      <p><i class="fas fa-envelope"></i> shenmoghana@gmail.com</p>
    </div>
    <div class="footer-social">
      <h3>Follow Us</h3>
      <a href="https://web.facebook.com/shenmoghana/?_rdc=1&_rdr"><i class="fab fa-facebook"></i></a>
      <a href="https://www.youtube.com/@shenmoghana?app=desktop"><i class="fab fa-youtube"></i></a>
      <a href="https://www.instagram.com/shenmoghana/"><i class="fab fa-instagram"></i></a>
      <a href="https://wa.me/552595297"><i class="fab fa-whatsapp"></i></a>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; 2025 Shenmo Ghana. All rights reserved.</p>
  </div>
</footer>

<script src="javascript/menu.js"></script>
</body>
</html>
