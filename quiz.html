<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>SHENMO GHANA</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="styles/styles.css">
        <link rel="stylesheet" href="styles/qstyles.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
        <link rel="stylesheet" href="https://getbootstrap.com/docs/5.0/dist/css/bootstrap.min.css"> 


        <header>
            <div class="top-navigation">
                <div class="brand">SHENMO GHANA</div>
                <a href="donation.html" class="donate-button">Donate</a>
            </div>
            <nav class="main-navigation">
                <div class="logo-container">
                    <img src="thumbnails/logo.png" alt="Logo">
                </div>
                <div class="menu-toggle" onclick="toggleMenu()">☰</div>
                <ul class="nav-links">
                    <li><a href="home.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="registration.html">Registration</a></li>
                    <li><a href="program.html">Programs</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li><a href="research.html">Research</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </header>
    <style>
      .quiz-box {
        margin: 20px auto;
        padding: 20px;
        background-color: #fff;
        border-left: 5px solid #4CAF50;
        border-radius: 5px;
        max-width: 400px;
        font-family: monospace;
        white-space: pre;
        font-size: 18px;
      }
  
      .input-group {
        margin-top: 15px;
      }
  
      input[type="number"] {
        padding: 8px;
        width: 100%;
        margin-top: 5px;
      }
  
      .timer {
        font-size: 18px;
        font-weight: bold;
        margin-top: 10px;
      }
  
      .end-msg {
        font-weight: bold;
        font-size: 18px;
        margin-top: 20px;
        color: #333;
      }
    </style>
  </head>
  <body>
    <div class="dashboard-container">
      <div class="sidebar">
        <ul>
          <li><a href="dashboard.html">Dashboard</a></li>
          <li><a href="users.html">Users</a></li>
          <li><a href="quiz.html">Abacus Quiz</a></li>
          <li><a href="home.html">Logout</a></li>
        </ul>
      </div>
  
      <div class="content">
        <h2>Abacus Speed Quiz</h2>
        <div class="timer" id="timer">Time Left: 03:00</div>
  
        <div class="quiz-box" id="quiz-display"></div>
  
        <form id="answer-form" class="input-group">
          <label for="user-answer">Your Answer:</label>
          <input type="number" id="user-answer" required autocomplete="off" />
          <button type="submit">Submit Answer</button>
        </form>
  
        <div class="end-msg" id="end-msg"></div>
      </div>
    </div>

    <footer>
        <div class="footer-container">
            <!-- Logo and About -->
            <div class="footer-logo">
                <img src="thumbnails/images.png" alt="">
                <p>Empowering minds through education and innovation.</p>
            </div>
    
            <!-- Quick Links -->
            <div class="footer-links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="registration.html">Registration</a></li>
                    <li><a href="program.html">Programs</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li><a href="research.html">Research</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>
    
            <!-- Contact Information -->
            <div class="footer-contact">
                <h3>Contact Us</h3>
                <p><i class="fas fa-map-marker-alt"></i> Ahobrase Plaza, East Legon, Accra, Ghana</p>
                <p><i class="fas fa-phone"></i> 0500926000 | 0249460223</p>
                <p><i class="fas fa-envelope"></i>shenmoghana@gmail.com</a></p>
            </div>
    
            <!-- Social Media -->
            <div class="footer-social">
                <h3>Follow Us</h3>
                <a href="https://web.facebook.com/shenmoghana/?_rdc=1&_rdr" title="Facebook"><i class="fab fa-facebook"></i></a>
                <a href="https://www.youtube.com/@shenmoghana?app=desktop" title="YouTube"><i class="fab fa-youtube"></i></a>
                <a href="https://www.instagram.com/shenmoghana/" title="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="https://wa.me/552595297" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
            </div>
            
        </div>
    
        <!-- Copyright Section -->
        <div class="footer-bottom">
            <p>&copy; 2025 Shenmo Ghana. All rights reserved.</p>
        </div>
    </footer>
  
    <script>
      let currentAnswer = 0;
      let totalQuestions = 0;
      let correctAnswers = 0;
      const maxQuestions = 200;
      let totalTime = 180; // 3 mins
      let timerInterval;
  
      function startTimer() {
        timerInterval = setInterval(() => {
          totalTime--;
          updateTimerDisplay();
          if (totalTime <= 0) endQuiz();
        }, 1000);
      }
  
      function updateTimerDisplay() {
        const mins = String(Math.floor(totalTime / 60)).padStart(2, '0');
        const secs = String(totalTime % 60).padStart(2, '0');
        document.getElementById('timer').textContent = `Time Left: ${mins}:${secs}`;
      }
  
      function generateAbacusStyleQuestion() {
        let total = 0;
        let ops = [];
  
        const patterns = [
          ['+5', '-2', '+3'],
          ['+2', '+3', '-4'],
          ['+1', '+2', '+3', '-5'],
          ['+3', '+4', '-6'],
          ['+5', '-1', '-3'],
          ['+4', '+1', '-2'],
          ['+6', '-2', '-3'],
          ['+7', '-4', '+2'],
          ['+2', '-1', '+3', '-2']
        ];
  
        while (true) {
          const pattern = patterns[Math.floor(Math.random() * patterns.length)];
          total = 0;
          ops = [];
  
          for (let op of pattern) {
            const num = parseInt(op.slice(1));
            const isAdd = op.startsWith('+');
            total += isAdd ? num : -num;
            ops.push(op);
          }
  
          if (total >= 1 && total <= 9) break;
        }
  
        currentAnswer = total;
        return ops.map(op => op.padStart(3)).join("\n");
      }
  
      function loadNextQuestion() {
        if (totalQuestions >= maxQuestions) return endQuiz();
  
        document.getElementById('user-answer').value = '';
        document.getElementById('quiz-display').textContent = generateAbacusStyleQuestion();
        document.getElementById('user-answer').focus(); // focus without click
      }
  
      function endQuiz() {
        clearInterval(timerInterval);
        document.getElementById('quiz-display').textContent = '';
        document.getElementById('answer-form').style.display = 'none';
        document.getElementById('end-msg').textContent =
          `⏱️ Time's up or 200 questions done!\nYou answered ${correctAnswers} out of ${totalQuestions} correctly.`;
  
        localStorage.setItem("quiz_total", totalQuestions);
        localStorage.setItem("quiz_correct", correctAnswers);
      }
  
      document.getElementById('answer-form').addEventListener('submit', function (e) {
        e.preventDefault();
        const userAnswer = parseInt(document.getElementById('user-answer').value);
        totalQuestions++;
        if (userAnswer === currentAnswer) correctAnswers++;
  
        loadNextQuestion();
      });
  
      window.onload = function () {
        localStorage.setItem("quiz_total", 0);
        localStorage.setItem("quiz_correct", 0);
        totalQuestions = 0;
        correctAnswers = 0;
        loadNextQuestion();
        startTimer();
      };
    </script>
  </body>
  </html>
  